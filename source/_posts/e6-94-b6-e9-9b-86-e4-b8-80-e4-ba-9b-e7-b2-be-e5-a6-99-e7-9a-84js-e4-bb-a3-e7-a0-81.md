---
title: 收集一些精妙的JS代码
tags:
  - Javascript
  - js
  - 技巧
url: 1862.html
id: 1862
categories:
  - 编程随想
date: 2013-08-27 11:58:00
---

1.计算含中文的字符串长度

String.prototype.cnLength = function() {
    var arr = this.match(/\[^\\x00-\\xff\]/ig);
    return this.length + (arr == null ? 0 : arr.length);
};
alert("hi你好".cnLength());  //测试结果 6

原理：匹配提供的字符串中的任何非ASCII字符，匹配次数与默认的string.length相加即可

2.快速判断出非标准浏览器（含IE8）

if(!-\[1,\]){
    alert("非标准浏览器")
 }else{
    alert("标准浏览器")
}

原理：IE8及更低级的IE版本：-\[1,0\]会返回NAN

待续。。。